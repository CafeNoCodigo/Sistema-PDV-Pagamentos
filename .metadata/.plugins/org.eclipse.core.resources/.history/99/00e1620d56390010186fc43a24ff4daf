package com.minhaloja.sistema_pagamento.dao;

import java.sql.Connection;
import java.sql.SQLException;
import java.sql.Statement;

import com.minhaloja.sistema_pagamento.util.Conexao;

public class FuncionarioDAO {
	
	public FuncionarioDAO() {
		criarTabelaSeNaoExistir();
	}

	private void criarTabelaSeNaoExistir() {
    	String sql = """
    		    CREATE TABLE IF NOT EXISTS funcionarios (
    		        id INT PRIMARY KEY AUTO_INCREMENT,
    		        nome VARCHAR(255) NOT NULL,
    		        bi VARCHAR(50),
    		        endereco VARCHAR(255),
    		        bairro VARCHAR(255),
    		        cidade VARCHAR(100),
    		        telefone1 DOUBLE,
    		        telefone2 DOUBLE,
    		        nuit VARCHAR(100),
    		        dataNascido DATE,
    		        cargo VARCHAR(100),
    		        contaBancaria1 VARCHAR(100),
    		        contaBancaria2 VARCHAR(100),
    		        dataInicio DATE,
    		        dataFim DATE,
    		        salario INT,
    		        alimentacao INT,
    		        transporte INT,
    		        imagemFuncionario BLOB,
    		        imagemBi BLOB
    		    );
    		""";

        try (Connection conn = Conexao.conectar(); Statement stmt = conn.createStatement()) {
            stmt.execute(sql);
        } catch (SQLException e) {
            System.out.println("Erro ao criar tabela: " + e.getMessage());
        }
    }
}
